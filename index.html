<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>title</title>

        <!-- Bootstrap core CSS -->
        <link href="frameworks/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <!-- Material Design Bootstrap -->
        <link href="frameworks/bootstrap/css/mdb.min.css" rel="stylesheet">
        <link href="css/style.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <section id="page-content">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div id="mapContainer">
                            <!-- This is the magic -->
                            <svg id="svgMap">
                                <defs>
                                    <pattern id="playerMapImagePatt" patternUnits="userSpaceOnUse" width="100%" height="100%">
                                        <image xlink:href="" x="0" y="0" width="100%" height="100%" />
                                    </pattern>
                                    <pattern id="dmMapImagePatt" patternUnits="userSpaceOnUse" width="100%" height="100%">
                                        <image xlink:href="" x="0" y="0" width="100%" height="100%" />
                                    </pattern>
                                    <pattern id="fogMapImagePatt" patternUnits="userSpaceOnUse" width="100%" height="100%">
                                        <image xlink:href="" x="0" y="0" width="100%" height="100%" />
                                    </pattern>
                                    <pattern id="mapGridPatt" patternUnits="userSpaceOnUse" width="100%" height="100%">
                                        <rect width="100%" height="100%" fill="rgba(0,0,0,0)" stroke-width=5 stroke="#000000" />
                                    </pattern>
                                    <mask id="dmMask">
                                        <image xlink:href="" x="0" y="0" width="100%" height="100%" />                                        
                                    </mask>
                                    <mask id="fogMask">
                                        <image xlink:href="" x="0" y="0" width="100%" height="100%" />                                        
                                    </mask>
                                </defs>
                                <rect id="playerMap" fill="url(#playerMapImagePatt)" width="100%" height="100%"/>
                                <rect id="dmMap" fill="url(#dmMapImagePatt)" width="100%" height="100%" mask="url(#dmMask)"/>
                                <rect id="mapGrid" fill="url(#mapGridPatt)" width="100%" height="100%"/>
                                <!--                                <rect id="fogOfWar" fill="#00ff00" width=100% height=100% mask="url(#fogMask)"/>-->
                            </svg>
                            <canvas id="dmCanvas"></canvas>
                            <canvas id="fogCanvas"></canvas>
                        </div>
                    </div>
                    <div class="col">
                        <div class="row">
                            <div class="col">
                                <!--Card-->
                                <div class="card card-cascade">
                                    <!--Card image-->
                                    <div class="view gradient-card-header blue-gradient">
                                        <h2 class="h2-responsive">Map</h2>
                                        <p>Setup</p>
                                    </div>
                                    <!--/Card image-->
                                    <!--Card content-->
                                    <div class="card-body text-center">
                                        <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus, ex, recusandae. Facere modi
                                            sunt, quod quibusdam dignissimos neque rem nihil ratione est placeat vel, natus non quos laudantium
                                            veritatis sequi.Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit
                                            laboriosam.</p>
                                    </div>
                                    <!--/.Card content-->
                                </div>
                                <!--/.Card-->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <div class="card">
                            <div id="mapSetup">
                                <div class="card-body">
                                    <div class="form-row">
                                        <div class="form-group col">
                                            <label for="playerMapImageSetting">Set player map image</label>
                                            <input type="file" class="form-control-file" id="playerMapImageSetting">
                                            <p>The player map image size is used for the other images</p>
                                        </div>
                                        <div class="form-group col">
                                            <label for="dmMapImageSetting">Set DM map image</label>
                                            <input type="file" class="form-control-file" id="dmMapImageSetting">
                                        </div>
                                        <div class="form-group col">
                                            <label for="fogMapImageSetting">Set fog image</label>
                                            <input type="file" class="form-control-file" id="fogMapImageSetting">
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col">
                                            <label for="gridSizeXSetting">Grid spaces (Horizontal)</label>
                                            <input type="number" class="form-control" id="gridSizeXSetting" aria-describedby="gridSizeXSettingHelp" placeholder="1">
                                            <small id="gridSizeXSettingHelp" class="form-text text-muted">Enter horizontal number of grid spaces</small>
                                        </div>
                                        <div class="form-group col">
                                            <label for="gridSizeYSetting">Grid spaces (Vertical)</label>
                                            <input type="number" class="form-control" id="gridSizeYSetting" aria-describedby="gridSizeYSettingHelp" placeholder="1">
                                            <small id="gridSizeYSettingHelp" class="form-text text-muted">Enter vertical nunmber of grid spaces</small>
                                        </div>
                                        <div class="form-group col">
                                            <label for="gridColorSetting">Grid color</label>
                                            <input type="color" class="form-control" id="gridColorSetting" aria-describedby="gridColorSettingHelp" placeholder="#000000">
                                            <small id="gridColorSettingHelp" class="form-text text-muted">Hex color of grid</small>
                                        </div>
                                        <div class="form-group col">
                                            <label for="gridThicknessSetting">Grid thickness</label>
                                            <input type="number" class="form-control" id="gridThicknessSetting" aria-describedby="gridThicknessSettingHelp" placeholder="5">
                                            <small id="gridThicknessSettingHelp" class="form-text text-muted">Thickness of grid,<i> in px on map</i></small>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col">
                                            <label for="fogColorSetting">Fog color</label>
                                            <input type="color" class="form-control" id="fogColorSetting" aria-describedby="fogColorSettingHelp" placeholder="#804000">
                                            <small id="fogColorSettingHelp" class="form-text text-muted">Set fog of war color</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-body">
                                <h2>Controls</h2>
                                <div class="btn-group" role="group" aria-label="modeSettingLabel" id="modeSetting">
                                    <button type="button" class="btn btn-secondary">Add fog</button>
                                    <button type="button" class="btn btn-secondary">Substract fog</button>
                                    <button type="button" class="btn btn-secondary">Right</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>     

        <!--- Modals --->
        <div class="modal" tabindex="-1" role="dialog" id="fowWarningModal">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Fog of war mode <b>WARNING</b></h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p>Changing fog of war (FOW) mode or regenerating the FOW resets the complete fog on the map.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-dismiss="modal" id="confirmFogOfWarSetting">Continue</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal" id="cancelFogOfWarSetting">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
        <script
                src="https://code.jquery.com/jquery-3.3.1.min.js"
                integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
                crossorigin="anonymous"></script>
        <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
        <!-- Bootstrap tooltips -->
        <script type="text/javascript" src="frameworks/bootstrap/js/popper.min.js"></script>
        <!-- Bootstrap core JavaScript -->
        <script type="text/javascript" src="frameworks/bootstrap/js/bootstrap.min.js"></script>
        <!-- MDB core JavaScript -->
        <script type="text/javascript" src="frameworks/bootstrap/js/mdb.min.js"></script>
        <script src="js/base.js"></script>
    </body>
</html>